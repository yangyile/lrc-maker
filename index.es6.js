!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=51)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o}));var a=n(15);const r={current:null,get src(){var e,t;return null!==(t=null===(e=this.current)||void 0===e?void 0:e.src)&&void 0!==t?t:""},get duration(){var e,t;return null!==(t=null===(e=this.current)||void 0===e?void 0:e.duration)&&void 0!==t?t:0},get paused(){var e,t;return null===(t=null===(e=this.current)||void 0===e?void 0:e.paused)||void 0===t||t},get playbackRate(){var e,t;return null!==(t=null===(e=this.current)||void 0===e?void 0:e.playbackRate)&&void 0!==t?t:1},set playbackRate(e){null!==this.current&&(this.current.playbackRate=e)},get currentTime(){var e,t;return null!==(t=null===(e=this.current)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0},set currentTime(e){null!==this.current&&0!==this.current.duration&&(this.current.currentTime=e)},toggle(){var e;(null===(e=this.current)||void 0===e?void 0:e.duration)&&(this.current.paused?this.current.play():this.current.pause())}},c=Object(a.a)(),o=Object(a.a)()},function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"t",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"q",(function(){return i})),n.d(t,"p",(function(){return l})),n.d(t,"o",(function(){return s})),n.d(t,"s",(function(){return u})),n.d(t,"h",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"m",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"n",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return R})),n.d(t,"a",(function(){return y})),n.d(t,"k",(function(){return E})),n.d(t,"r",(function(){return w})),n.d(t,"u",(function(){return x}));const a=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z"})),r=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})),c=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M4 21h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 9.21v5.59c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.8a.5.5 0 0 0-.85.36zM8.6 17H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1zM3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1zm5.6 5H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1zm0 4H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1z"})),o=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z"})),i=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19.44 12.99l-.01.02c.04-.33.08-.67.08-1.01 0-.34-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99 0 .34.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26l-2.11-1.66zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"})),l=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"})),s=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"})),u=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.26-2.14 3.99-4.39 4.53-3.64.88-6.93-1.6-7.42-4.96-.06-.49-.48-.86-.97-.86-.6 0-1.08.53-1 1.13.63 4.47 4.94 7.75 9.77 6.67 3.09-.69 5.39-3.08 5.99-6.19C20.84 9.48 16.94 5 12 5zm-1.31 8.9l.25-2.17h2.39v.71h-1.7l-.11.92c.03-.02.07-.03.11-.05s.09-.04.15-.05.12-.03.18-.04.13-.02.2-.02c.21 0 .39.03.55.1s.3.16.41.28.2.27.25.45.09.38.09.6c0 .19-.03.37-.09.54s-.15.32-.27.45-.27.24-.45.31-.39.12-.64.12c-.18 0-.36-.03-.53-.08s-.32-.14-.46-.24-.24-.24-.32-.39-.13-.33-.13-.53h.84c.02.18.08.32.19.41s.25.15.42.15c.11 0 .2-.02.27-.06s.14-.1.18-.17.08-.15.11-.25.03-.2.03-.31-.01-.21-.04-.31-.07-.17-.13-.24-.13-.12-.21-.15-.19-.05-.3-.05c-.08 0-.15.01-.2.02s-.11.03-.15.05-.08.05-.12.07-.07.06-.1.09l-.67-.16z"})),m=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M18.87 13c-.5 0-.91.37-.98.86-.48 3.37-3.77 5.84-7.42 4.96-2.25-.54-3.91-2.27-4.39-4.53C5.27 10.42 8.22 7 11.95 7v2.79c0 .45.54.67.85.35l3.79-3.79c.2-.2.2-.51 0-.71L12.8 1.85c-.31-.31-.85-.09-.85.35V5c-4.94 0-8.84 4.48-7.84 9.6.6 3.11 2.9 5.5 5.99 6.19 4.83 1.08 9.15-2.2 9.77-6.67.09-.59-.4-1.12-1-1.12zm-6.44 2.15c-.05.07-.11.13-.18.17s-.17.06-.27.06c-.17 0-.31-.05-.42-.15s-.17-.24-.19-.41h-.84c.01.2.05.37.13.53s.19.28.32.39.29.19.46.24.35.08.53.08c.24 0 .46-.04.64-.12s.33-.18.45-.31.21-.28.27-.45.09-.35.09-.54c0-.22-.03-.43-.09-.6s-.14-.33-.25-.45-.25-.22-.41-.28-.34-.1-.55-.1c-.07 0-.14.01-.2.02s-.13.02-.18.04-.1.03-.15.05-.08.04-.11.05l.11-.92h1.7v-.71H10.9l-.25 2.17.67.17c.03-.03.06-.06.1-.09s.07-.05.12-.07.1-.04.15-.05.13-.02.2-.02c.12 0 .22.02.3.05s.16.09.21.15.1.14.13.24.04.19.04.31-.01.22-.03.31-.06.17-.11.24z"})),p=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.9 2 2 2h3c.55 0 1-.45 1-1s-.45-1-1-1H5V8h14v10h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7.35 6.35l-2.79 2.79c-.32.32-.1.86.35.86H11v5c0 .55.45 1 1 1s1-.45 1-1v-5h1.79c.45 0 .67-.54.35-.85l-2.79-2.79c-.19-.2-.51-.2-.7-.01z"})),d=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{opacity:".3",d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm4 10.59L14.59 16 12 13.41 9.41 16 8 14.59 10.59 12 8 9.41 9.41 8 12 10.59 14.59 8 16 9.41 13.41 12 16 14.59z"}),React.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),f=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19 13v5c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1v-5c0-.55-.45-1-1-1s-1 .45-1 1v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1zm-6-.33l1.88-1.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-3.59 3.59c-.39.39-1.02.39-1.41 0L7.7 12.2c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L11 12.67V4c0-.55.45-1 1-1s1 .45 1 1v8.67z"})),h=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{className:"lock-open",d:"M12 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6-5h-1V6c0-2.76-2.24-5-5-5-2.28 0-4.27 1.54-4.84 3.75-.14.54.18 1.08.72 1.22.53.14 1.08-.18 1.22-.72C9.44 3.93 10.63 3 12 3c1.65 0 3 1.35 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 11c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-8c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v8z"}),React.createElement("path",{className:"lock-close",d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z"})),g=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"})),v=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M9.17 6l2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})),b=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zM8 13h2.55v3h2.9v-3H16l-4-4z"})),R=()=>React.createElement("svg",{className:"github-svg",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},React.createElement("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"})),y=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29L5.7 12.7c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"})),E=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V7h2v2z"})),w=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M2.73 21h18.53c.77 0 1.25-.83.87-1.5l-9.27-16c-.39-.67-1.35-.67-1.73 0l-9.27 16c-.38.67.1 1.5.87 1.5zM13 18h-2v-2h2v2zm-1-4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1z"})),x=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M8.2 10.5c-.4-.3-1-.5-1.5-.4 0 0-3.6-3-4.3-4.3-.5-1-.6-2.8 0-3.4.6-.6 2.4-.5 3.4 0C7 3.1 10 6.7 10 6.7c0 .6 0 1.1.4 1.6l-2.3 2.2zM18.7 17.8l.3-.2 1 .9 2 3-.5.5-3-1.9-1-1.1.3-.3L14 15l1-1 3.7 3.9z"}),React.createElement("path",{d:"M13.2 7.8c-.5-1.6 0-3.3 1.1-4.5a4.5 4.5 0 0 1 4.4-1.1L16 4.7l.7 2.5 2.5.7 2.5-2.5c.4 1.5 0 3.1-1.1 4.3a4.5 4.5 0 0 1-4.6 1.1L5.6 21.4a2.1 2.1 0 0 1-3 0c-.8-.8-.8-2.2 0-3L13.2 7.8zM3.9 21c.5 0 .8-.3.8-.8a.8.8 0 1 0-1.6 0c0 .5.4.8.8.8z"}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i}));const a=(e,t={})=>{const{trimStart:n=!1,trimEnd:a=!1}=t,r=e.split(/\r\n|\n|\r/),c=/\[\s*(\d{1,3}):(\d{1,2}(?:[:.]\d{1,3})?)\s*]/g,o=/\[\s*(\w{1,6})\s*:(.*?)]/,i=new Map,l=[];for(const e of r){if("["!==e[0]){l.push({text:e});continue}c.lastIndex=0;const t=c.exec(e);if(null!==t){const n=Number.parseInt(t[1],10),a=Number.parseFloat(t[2].replace(":",".")),r=e.slice(c.lastIndex);l.push({time:60*n+a,text:r});continue}const n=o.exec(e);if(null===n)l.push({text:e});else{const e=n[2].trim();if(""===e)continue;i.set(n[1],e)}}return(n||a)&&l.forEach(e=>{n&&(e.text=e.text.trimStart()),a&&(e.text=e.text.trimEnd())}),{info:i,lyric:l}},r=new Map,c=(e,t,n=!0)=>{if(void 0===e)return"";const a=(e=>{if(r.has(e))return r.get(e);{const t=new Intl.NumberFormat("en",{minimumIntegerDigits:2,minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1});return r.set(e,t),t}})(t),c=Math.floor(e/60).toString().padStart(2,"0"),o=a.format(e%60);return n?`[${c}:${o}]`:`${c}:${o}`},o=(e,t,n)=>{let a=e;return t>=0&&(a=" ".repeat(t)+a.trimStart()),n>=0&&(a=a.trimEnd()+" ".repeat(n)),a},i=(e,t)=>{const{spaceStart:n,spaceEnd:a,fixed:r,endOfLine:i="\r\n"}=t,l=Array.from(e.info.entries()).map(([e,t])=>`[${e}: ${t}]`),s=e.lyric.map(e=>{if(void 0===e.time)return e.text;const t=o(e.text,n,a);return`${c(e.time,r)}${t}`});return l.concat(s).join(i)}},function(e,t,n){"use strict";var a=n(6),r=n(31);const c=()=>{const[e,t]=React.useState(r.language);return[e,React.useCallback(e=>{return r=e,Object(a.a)(void 0,void 0,void 0,(function*(){const{language:e}=yield n(88)(`./${r}.js`);t(e)}));var r},[])]};var o=n(14),i=n(4);n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));const{createContext:l,useEffect:s,useMemo:u}=React,m=l(void 0,(e,t)=>{let n=0;return e.lang!==t.lang&&(n|=1),e.prefState.builtInAudio!==t.prefState.builtInAudio&&(n|=2),e.prefState!==t.prefState&&(n|=4),n}),p=({children:e})=>{const[t,n]=Object(o.c)(()=>localStorage.getItem("lrc-maker-preferences")||""),[a,r]=c();s(()=>{r(t.lang).catch(e=>{i.b.pub({type:"warning",text:e.message})})},[t.lang,r]),s(()=>{document.title=a.app.fullname,document.documentElement.lang=t.lang},[a,t.lang]);const l=u(()=>({lang:a,prefState:t,prefDispatch:n,trimOptions:{trimStart:t.spaceStart>=0,trimEnd:t.spaceEnd>=0}}),[a,n,t]);return React.createElement(m.Provider,{value:l},e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return m}));var a=n(15),r=n(1);const c=Object(a.a)(),{useCallback:o,useEffect:i,useRef:l,useState:s}=React,u={id:0},m=()=>{const e=l(Symbol(m.name)),[t,n]=s([]);i(()=>{c.sub(e.current,e=>{n(t=>[Object.assign({id:u.id++},e),...t])})},[]);const a=o(e=>{"slideOutRight"===e.animationName&&n(e=>e.slice(0,-1))},[]),p=o(e=>{const t={info:React.createElement(r.k,null),success:React.createElement(r.a,null),warning:React.createElement(r.r,null)}[e.type];return React.createElement("section",{className:"toast",key:e.id},React.createElement("section",{className:`toast-badge toast-${e.type}`},t),React.createElement("section",{className:"toast-text"},e.text))},[]);return React.createElement("div",{className:"toast-queue",onAnimationEnd:a},t.map(p))}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(55))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));function a(e,t,n,a){return new(n||(n=Promise))((function(r,c){function o(e){try{l(a.next(e))}catch(e){c(e)}}function i(e){try{l(a.throw(e))}catch(e){c(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((a=a.apply(e,t||[])).next())}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c}));const a=()=>React.createElement("img",{className:"akari-hide-wall",alt:"akari-hide-wall",src:"./svg/akari-hide-wall.svg",crossOrigin:"anonymous"}),r=()=>React.createElement("img",{className:"akari-not-found",alt:"not found",src:"./svg/akari-not-found.svg",crossOrigin:"anonymous"}),c=()=>React.createElement("img",{className:"akari-odango-loading start-loading",alt:"loading",src:"./svg/akari-odango-loading.svg",crossOrigin:"anonymous"})},function(e,t,n){var a=n(11);e.exports=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s}));var a=n(6);const r="https://api.github.com/gists",c=()=>Object(a.a)(void 0,void 0,void 0,(function*(){const e=localStorage.getItem("lrc-maker-oauth-token"),t=yield fetch(r,{method:"GET",headers:{Authorization:`token ${e}`},mode:"cors"});if(!t.ok)throw new Error(t.statusText);return t.json()})),o=()=>Object(a.a)(void 0,void 0,void 0,(function*(){const e=localStorage.getItem("lrc-maker-oauth-token"),t=yield fetch(r,{method:"POST",headers:{Authorization:`token ${e}`},body:JSON.stringify({description:"https://lrc-maker.github.io",public:!0,files:{".lrc-maker":{content:"This file is used to be tracked and identified by https://lrc-maker.github.io"}}})});if(!t.ok)throw new Error(t.statusText);return t.json()})),i=()=>Object(a.a)(void 0,void 0,void 0,(function*(){const e=localStorage.getItem("lrc-maker-oauth-token"),t=localStorage.getItem("lrc-maker-gist-id"),n=yield fetch(`${r}/${t}`,{method:"PATCH",headers:{Authorization:`token ${e}`},body:JSON.stringify({description:"https://lrc-maker.github.io",files:{".lrc-maker":{content:"This file is used to be tracked and identified by https://lrc-maker.github.io"}}})});if(!n.ok)throw new Error(n.statusText);return n.json()})),l=()=>Object(a.a)(void 0,void 0,void 0,(function*(){const e=localStorage.getItem("lrc-maker-oauth-token"),t=localStorage.getItem("lrc-maker-gist-id"),n=localStorage.getItem("lrc-maker-gist-etag"),a=yield fetch(`${r}/${t}`,{headers:{Authorization:`token ${e}`,"If-None-Match":n}});if(!a.ok&&a.status>=400)throw yield a.json();localStorage.setItem("lrc-maker-gist-etag",a.headers.get("etag"));const c={"x-ratelimit-limit":a.headers.get("x-ratelimit-limit"),"x-ratelimit-remaining":a.headers.get("x-ratelimit-remaining"),"x-ratelimit-reset":a.headers.get("x-ratelimit-reset")};return sessionStorage.setItem("x-ratelimit",JSON.stringify(c)),200===a.status?a.json():null})),s=(e,t)=>Object(a.a)(void 0,void 0,void 0,(function*(){const n=localStorage.getItem("lrc-maker-oauth-token"),a=localStorage.getItem("lrc-maker-gist-id"),c=yield fetch(`${r}/${a}`,{method:"PATCH",headers:{Authorization:`token ${n}`},body:JSON.stringify({files:{[e]:{content:t}}})});if(!c.ok)throw new Error(c.statusText);return c.json()}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{if(null===e)return!1;const t=e.type;return"textarea"===t||"text"===t||"url"===t}},function(e,t,n){var a=n(5),r=n(32).f,c=n(18),o=n(58),i=n(24),l=n(62),s=n(67);e.exports=function(e,t){var n,u,m,p,d,f=e.target,h=e.global,g=e.stat;if(n=h?a:g?a[f]||i(f,{}):(a[f]||{}).prototype)for(u in t){if(p=t[u],m=e.noTargetGet?(d=r(n,u))&&d.value:n[u],!s(h?u:f+(g?".":"#")+u,e.forced)&&void 0!==m){if(typeof p==typeof m)continue;l(p,m)}(e.sham||m&&m.sham)&&c(p,"sham",!0),o(n,u,p,e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l}));const a=JSON.parse(document.getElementById("app-info").textContent),r={orange:"#ff691f",yellow:"#fab81e",lime:"#7fdbb6",green:"#19cf86",blue:"#91d2fa",navy:"#1b95e0",grey:"#abb8c2",red:"#e81c4f",pink:"#f58ea8",purple:"#c877fe"},c={lang:"en-US",spaceStart:1,spaceEnd:0,fixed:3,builtInAudio:!1,screenButton:!1,themeColor:r.pink},o=(e,t)=>{const n=t.payload;return Object.assign(Object.assign({},e),{[t.type]:"function"==typeof n?n(e):n})},i=e=>{const t=c,n=navigator.languages||[navigator.language||"en-US"];t.lang=n.map(e=>"zh"===e?"zh-CN":e.startsWith("en")?"en-US":e).find(e=>e in a.languages)||"en-US";try{const n=JSON.parse(e()),a=Object.keys(c);for(const e of a)e in n&&(t[e]=n[e])}catch(e){}return t},l=e=>React.useReducer(o,e,i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>{const e=new Map;return{pub:t=>{e.forEach(e=>e(t))},sub:(t,n)=>(e.set(t,n),()=>{e.delete(t)})}}},function(e,t,n){var a=n(56),r=n(23);e.exports=function(e){return a(r(e))}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var a=n(8),r=n(19),c=n(34);e.exports=a?function(e,t,n){return r.f(e,t,c(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var a=n(8),r=n(36),c=n(20),o=n(35),i=Object.defineProperty;t.f=a?i:function(e,t,n){if(c(e),t=o(t,!0),c(n),r)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var a=n(17);e.exports=function(e){if(!a(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n(2);const r=(e,t,n)=>e<t?t:e>n?n:e,c=(e,t)=>{switch(t.type){case 0:{const{text:n,options:c}=t.payload,o=Object(a.c)(n,c),i=r(e.selectIndex,0,o.lyric.length-1);return Object.assign(Object.assign(Object.assign({},e),o),{selectIndex:i})}case 1:{const n=t.payload;if(n>=e.currentTime&&n<e.nextTime)return e;const a=e.lyric.reduce((e,t,a)=>(t.time&&(t.time<e.nextTime&&t.time>n&&(e.nextTime=t.time,e.nextIndex=a),t.time>e.currentTime&&t.time<=n&&(e.currentTime=t.time,e.currentIndex=a)),e),{currentTime:-1/0,currentIndex:-1/0,nextTime:1/0,nextIndex:1/0});return((e,t)=>{for(const n in t)if(e[n]!==t[n])return Object.assign(Object.assign({},e),t);return e})(e,a)}case 2:{const n=t.payload,a=e.selectIndex;let c=e.lyric;if(c[a].time!==n){const e=c.slice();e[a]={text:c[a].text,time:n},c=e}const o=r(a+1,0,c.length-1);return Object.assign(Object.assign({},e),{lyric:c,selectIndex:o,currentTime:n,nextTime:-1/0})}case 3:{const{name:n,value:a}=t.payload,r=new Map(e.info);return""===a.trim()?r.delete(n):r.set(n,a.trim()),Object.assign(Object.assign({},e),{info:r})}case 4:{const n=r(t.payload(e.selectIndex),0,e.lyric.length-1);return e.selectIndex===n?e:Object.assign(Object.assign({},e),{selectIndex:n})}case 5:{const{selectIndex:t,currentIndex:n}=e;let a=e.lyric;if(void 0!==a[t].time){const r=a.slice();r[t]={text:a[t].text},a=r;let{currentTime:c,nextTime:o}=e;return t===n&&(c=1/0,o=-1/0),Object.assign(Object.assign({},e),{lyric:a,currentTime:c,nextTime:o})}return e}case 6:return t.payload(e),e}return e},o=e=>{const{text:t,options:n,select:r}=e();return Object.assign(Object.assign({},Object(a.c)(t,n)),{currentTime:1/0,currentIndex:1/0,nextTime:-1/0,nextIndex:-1/0,selectIndex:r})},i=e=>React.useReducer(c,e,o)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{const t=[e.get("ti"),e.get("ar")].filter(e=>!!e);return 0===t.length&&(e.has("al")&&t.push(e.get("al")),t.push((new Date).toLocaleString())),t.map(e=>(e=>e.replace(/[<>:"/\\|?*]/g,"_").trim())(e)).join(" - ")+".lrc"}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var a=n(5),r=n(18);e.exports=function(e,t){try{r(a,e,t)}catch(n){a[e]=t}return t}},function(e,t){e.exports={}},function(e,t,n){var a=n(27),r=n(5),c=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?c(a[e])||c(r[e]):a[e]&&a[e][t]||r[e]&&r[e][t]}},function(e,t,n){var a=n(5);e.exports=a},function(e,t){var n=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var a=n(5),r=n(75),c=Function.call;e.exports=function(e,t,n){return r(c,a[e].prototype[t],n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"language",(function(){return a}));const a={languageName:"English",app:{name:"LRC Maker",fullname:"Akari's LRC Maker"},header:{home:"home",editor:"editor",synchronizer:"synchronizer",gist:"Githu Gist",preferences:"preferences"},audio:{loadAudio:"load audio",play:"play",pause:"pause",replay5s:"replay 5s",forward5s:"forward 5s",resetRate:"reset playback rate",error:["audio error","audio aborted by user","audio network error","audio decoding error","audio not supported"]},loadAudio:{file:"File",url:"URL",loadFile:"Click here or drop audio file in this page"},home:{tips:"Tips",tipForLyricText:"Navigate to the editor page and paste lyric text.",tipForUploadAudio:"Click the bottom left button to load audio file.",tipForSynchronizer:"Navigate to synchronizer page and make your lrc :)",tipTopLeft:"Click here come back to this page",tipTopRight:"Click here to navigate to other page",tipBottomLeft:"load audio here, and control the audio",tipBottomRight:"change the playback rate here"},editor:{metaInfo:"meta info",album:"album",title:"title",artist:"artist",uploadText:"upload text",copyText:"select all and copy",downloadText:"download",saveToGist:"save to Github Gist",saveFileName:"Filename",utils:"lrc utils"},gist:{newTokenTip:"LRC Maker use Github Token to fetch and store data to Github Gist",newTokenButton:"Generate a new Github Token",newGistTip:"Create a new Gist repository or assign an existing Gist id",newGistRepoButton:"Create a new Gist Repository",gistIdPlaceholder:"Or assign an existing Gist id",info:"info",clearTokenAndGist:"Clear token and Gist id"},preferences:{version:"Version",commitHash:"Commit hash",updateTime:"Update time",repo:"Repository",help:"Help & tips",language:"Language",builtInAudio:"Use browser built-in audio player",spaceButton:"On-screen space key",themeColor:"Theme color",lrcFormat:"LRC formtat adjust",fixed:"Timestamp fixed",leftSpace:"Left space",rightSpace:"Right space",clearCache:"Clear caches"},notify:{audioLoaded:"Audio loaded."}}},function(e,t,n){var a=n(8),r=n(33),c=n(34),o=n(16),i=n(35),l=n(9),s=n(36),u=Object.getOwnPropertyDescriptor;t.f=a?u:function(e,t){if(e=o(e),t=i(t,!0),s)try{return u(e,t)}catch(e){}if(l(e,t))return c(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";var a={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,c=r&&!a.call({1:2},1);t.f=c?function(e){var t=r(this,e);return!!t&&t.enumerable}:a},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var a=n(17);e.exports=function(e,t){if(!a(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!a(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var a=n(8),r=n(11),c=n(37);e.exports=!a&&!r((function(){return 7!=Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var a=n(5),r=n(17),c=a.document,o=r(c)&&r(c.createElement);e.exports=function(e){return o?c.createElement(e):{}}},function(e,t,n){var a=n(39),r=Function.toString;"function"!=typeof a.inspectSource&&(a.inspectSource=function(e){return r.call(e)}),e.exports=a.inspectSource},function(e,t,n){var a=n(5),r=n(24),c=a["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=c},function(e,t,n){var a=n(41),r=n(42),c=a("keys");e.exports=function(e){return c[e]||(c[e]=r(e))}},function(e,t,n){var a=n(61),r=n(39);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,a=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+a).toString(36)}},function(e,t,n){var a=n(9),r=n(16),c=n(44).indexOf,o=n(25);e.exports=function(e,t){var n,i=r(e),l=0,s=[];for(n in i)!a(o,n)&&a(i,n)&&s.push(n);for(;t.length>l;)a(i,n=t[l++])&&(~c(s,n)||s.push(n));return s}},function(e,t,n){var a=n(16),r=n(45),c=n(65),o=function(e){return function(t,n,o){var i,l=a(t),s=r(l.length),u=c(o,s);if(e&&n!=n){for(;s>u;)if((i=l[u++])!=i)return!0}else for(;s>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){var a=n(28),r=Math.min;e.exports=function(e){return e>0?r(a(e),9007199254740991):0}},function(e,t,n){var a=n(11);e.exports=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())}))},function(e,t,n){var a=n(43),r=n(29);e.exports=Object.keys||function(e){return a(e,r)}},function(e,t,n){var a=n(8),r=n(47),c=n(16),o=n(33).f,i=function(e){return function(t){for(var n,i=c(t),l=r(i),s=l.length,u=0,m=[];s>u;)n=l[u++],a&&!o.call(i,n)||m.push(e?[n,i[n]]:i[n]);return m}};e.exports={entries:i(!0),values:i(!1)}},function(e,t,n){var a=n(45),r=n(83),c=n(23),o=Math.ceil,i=function(e){return function(t,n,i){var l,s,u=String(c(t)),m=u.length,p=void 0===i?" ":String(i),d=a(n);return d<=m||""==p?u:(l=d-m,(s=r.call(p,o(l/p.length))).length>l&&(s=s.slice(0,l)),e?u+s:s+u)}};e.exports={start:i(!1),end:i(!0)}},function(e,t,n){var a=n(84);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},function(e,t,n){n(52),n(87),e.exports=n(96)},function(e,t,n){"use strict";n.r(t);n(53),n(77),n(79),n(81),n(85)},function(e,t,n){n(54);var a=n(30);e.exports=a("Array","includes")},function(e,t,n){"use strict";var a=n(13),r=n(44).includes,c=n(68);a({target:"Array",proto:!0,forced:!n(74)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var a=n(11),r=n(57),c="".split;e.exports=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?c.call(e,""):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var a=n(5),r=n(18),c=n(9),o=n(24),i=n(38),l=n(59),s=l.get,u=l.enforce,m=String(String).split("String");(e.exports=function(e,t,n,i){var l=!!i&&!!i.unsafe,s=!!i&&!!i.enumerable,p=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof t||c(n,"name")||r(n,"name",t),u(n).source=m.join("string"==typeof t?t:"")),e!==a?(l?!p&&e[t]&&(s=!0):delete e[t],s?e[t]=n:r(e,t,n)):s?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||i(this)}))},function(e,t,n){var a,r,c,o=n(60),i=n(5),l=n(17),s=n(18),u=n(9),m=n(40),p=n(25),d=i.WeakMap;if(o){var f=new d,h=f.get,g=f.has,v=f.set;a=function(e,t){return v.call(f,e,t),t},r=function(e){return h.call(f,e)||{}},c=function(e){return g.call(f,e)}}else{var b=m("state");p[b]=!0,a=function(e,t){return s(e,b,t),t},r=function(e){return u(e,b)?e[b]:{}},c=function(e){return u(e,b)}}e.exports={set:a,get:r,has:c,enforce:function(e){return c(e)?r(e):a(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var a=n(5),r=n(38),c=a.WeakMap;e.exports="function"==typeof c&&/native code/.test(r(c))},function(e,t){e.exports=!1},function(e,t,n){var a=n(9),r=n(63),c=n(32),o=n(19);e.exports=function(e,t){for(var n=r(t),i=o.f,l=c.f,s=0;s<n.length;s++){var u=n[s];a(e,u)||i(e,u,l(t,u))}}},function(e,t,n){var a=n(26),r=n(64),c=n(66),o=n(20);e.exports=a("Reflect","ownKeys")||function(e){var t=r.f(o(e)),n=c.f;return n?t.concat(n(e)):t}},function(e,t,n){var a=n(43),r=n(29).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,r)}},function(e,t,n){var a=n(28),r=Math.max,c=Math.min;e.exports=function(e,t){var n=a(e);return n<0?r(n+t,0):c(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var a=n(11),r=/#|\.prototype\./,c=function(e,t){var n=i[o(e)];return n==s||n!=l&&("function"==typeof t?a(t):!!t)},o=c.normalize=function(e){return String(e).replace(r,".").toLowerCase()},i=c.data={},l=c.NATIVE="N",s=c.POLYFILL="P";e.exports=c},function(e,t,n){var a=n(69),r=n(71),c=n(19),o=a("unscopables"),i=Array.prototype;null==i[o]&&c.f(i,o,{configurable:!0,value:r(null)}),e.exports=function(e){i[o][e]=!0}},function(e,t,n){var a=n(5),r=n(41),c=n(9),o=n(42),i=n(46),l=n(70),s=r("wks"),u=a.Symbol,m=l?u:u&&u.withoutSetter||o;e.exports=function(e){return c(s,e)||(i&&c(u,e)?s[e]=u[e]:s[e]=m("Symbol."+e)),s[e]}},function(e,t,n){var a=n(46);e.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var a,r=n(20),c=n(72),o=n(29),i=n(25),l=n(73),s=n(37),u=n(40),m=u("IE_PROTO"),p=function(){},d=function(e){return"<script>"+e+"<\/script>"},f=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=a?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(a):((t=s("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete f.prototype[o[n]];return f()};i[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p.prototype=r(e),n=new p,p.prototype=null,n[m]=e):n=f(),void 0===t?n:c(n,t)}},function(e,t,n){var a=n(8),r=n(19),c=n(20),o=n(47);e.exports=a?Object.defineProperties:function(e,t){c(e);for(var n,a=o(t),i=a.length,l=0;i>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var a=n(26);e.exports=a("document","documentElement")},function(e,t,n){var a=n(8),r=n(11),c=n(9),o=Object.defineProperty,i={},l=function(e){throw e};e.exports=function(e,t){if(c(i,e))return i[e];t||(t={});var n=[][e],s=!!c(t,"ACCESSORS")&&t.ACCESSORS,u=c(t,0)?t[0]:l,m=c(t,1)?t[1]:void 0;return i[e]=!!n&&!r((function(){if(s&&!a)return!0;var e={length:-1};s?o(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,u,m)}))}},function(e,t,n){var a=n(76);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,r){return e.call(t,n,a,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){n(78);var a=n(27);e.exports=a.Object.entries},function(e,t,n){var a=n(13),r=n(48).entries;a({target:"Object",stat:!0},{entries:function(e){return r(e)}})},function(e,t,n){n(80);var a=n(27);e.exports=a.Object.values},function(e,t,n){var a=n(13),r=n(48).values;a({target:"Object",stat:!0},{values:function(e){return r(e)}})},function(e,t,n){n(82);var a=n(30);e.exports=a("String","padEnd")},function(e,t,n){"use strict";var a=n(13),r=n(49).end;a({target:"String",proto:!0,forced:n(50)},{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var a=n(28),r=n(23);e.exports="".repeat||function(e){var t=String(r(this)),n="",c=a(e);if(c<0||c==1/0)throw RangeError("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(t+=t))1&c&&(n+=t);return n}},function(e,t,n){var a=n(26);e.exports=a("navigator","userAgent")||""},function(e,t,n){n(86);var a=n(30);e.exports=a("String","padStart")},function(e,t,n){"use strict";var a=n(13),r=n(49).start;a({target:"String",proto:!0,forced:n(50)},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";const a=document.createElement("details");"open"in a||(()=>{const e=a.constructor.prototype,t=Object.getOwnPropertyDescriptor(e,"open");Object.defineProperties(e,{open:{get(){var e;return"DETAILS"===this.tagName?this.hasAttribute("open"):null===(e=null==t?void 0:t.get)||void 0===e?void 0:e.call(this)},set(e){var n;if("DETAILS"===this.tagName){if(e!==this.hasAttribute("open")){const e=document.createEvent("Event");e.initEvent("toggle",!1,!1),this.dispatchEvent(e)}return e?this.setAttribute("open",""):this.removeAttribute("open")}return null===(n=null==t?void 0:t.set)||void 0===n?void 0:n.call(this,e)}}}),document.addEventListener("click",e=>{const t=e.target.closest("summary");if(null===t||null===t.parentElement||"DETAILS"!==t.parentElement.tagName)return;const n=t.parentElement;n.open=!n.open})})()},function(e,t,n){var a={"./en-US.js":31,"./ja.js":89,"./zh-CN.js":90,"./zh-HK.js":91,"./zh-TW.js":92};function r(e){return c(e).then(n)}function c(e){return Promise.resolve().then((function(){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}))}r.keys=function(){return Object.keys(a)},r.resolve=c,r.id=88,e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"language",(function(){return a}));const a={languageName:"日本語",app:{name:"歌詞スクロールちゃん",fullname:"あかりの歌詞スクロールちゃん"},header:{home:"ホームページ",editor:"編集",synchronizer:"同期",gist:"Githu Gist",preferences:"設定"},audio:{loadAudio:"オーディオファイルを読み込む",play:"再生",pause:"停止",replay5s:"5秒戻る",forward5s:"5秒進む",resetRate:"再生速度をリセット",error:["オーディオエラー","オーディオダウンロードエラー","オーディオネットワークエラー","オーディオデコードエラー","ブラウザでサポートされていないオーディオ"]},loadAudio:{file:"ファイル",url:"URL",loadFile:"ここをクリックするか、このページにオーディオファイルをドロップしてください"},home:{tips:"プロンプト",tipForLyricText:"編集ページに切り替えて歌詞のテキストを貼り付けます。",tipForUploadAudio:"左下のボタンをクリックしてオーディオファイルをロードします。",tipForSynchronizer:"同期ページに切り替えてスクロール歌詞を作り始めます〜",tipTopLeft:"このヘルプページに戻るにはここをクリック",tipTopRight:"ページを切り替えるにはここをクリック",tipBottomLeft:"ここでオーディオをロードして再生を制御できます。",tipBottomRight:"ここでは再生速度を変更できます"},editor:{metaInfo:"メタ情報",album:"アルバム",title:"曲名",artist:"アーティスト名",uploadText:"テキストを読み込む",copyText:"すべて選択してコピー",downloadText:"ダウンロード",saveToGist:"Github Gistに保存",saveFileName:"ファイル名",utils:"lrc utils"},gist:{newTokenTip:"歌詞スクロールちゃんはGithub Gistにデータを取得して保存するためにGithubトークンを使用します",newTokenButton:"新しいGithubトークンを生成する",newGistTip:"新しいGistリポジトリを作成するか、既存のGist IDを割り当てます",newGistRepoButton:"新しいGistリポジトリを作成する",gistIdPlaceholder:"または既存のGist IDを割り当てる",info:"情報",clearTokenAndGist:"クリアトークンとGIST ID"},preferences:{version:"バージョン",commitHash:"Commit hash",updateTime:"更新時間",repo:"プロジェクトURL",help:"について＆ヘルプ",language:"言語",builtInAudio:"ブラウザ内蔵のオーディオプレーヤーを使用する",spaceButton:"画面上のスペースキー",themeColor:"テーマカラー",lrcFormat:"歌詞出力フォーマット制御",fixed:"タイムスタンプ小数点",leftSpace:"左側のスペース",rightSpace:"右側スペース",clearCache:"キャッシュをクリア"},notify:{audioLoaded:"オーディオがロードされました"}}},function(e,t,n){"use strict";n.r(t),n.d(t,"language",(function(){return a}));const a={languageName:"简体中文",app:{name:"歌词滚动姬",fullname:"灯里的歌词滚动姬"},header:{home:"主页",editor:"编辑",synchronizer:"打轴",gist:"Githu Gist",preferences:"设置"},audio:{loadAudio:"加载音频",play:"播放",pause:"暂停",replay5s:"后退 5 秒",forward5s:"前进 5 秒",resetRate:"重置播放速度",error:["音频错误","音频请求被用户终止","音频网络请求错误","音频解码错误","浏览器无法支持此音频格式"]},loadAudio:{file:"文件",url:"外链",loadFile:"点击这里或直接拖放音频到这个页面"},home:{tips:"提示",tipForLyricText:"切换到编辑页面，粘贴歌词文本。",tipForUploadAudio:"点击左下方按钮，载入音频文件。",tipForSynchronizer:"切换到打轴页面，开始制作滚动歌词吧～",tipTopLeft:"点击这里可以回到这个帮助页面",tipTopRight:"点击这里切换页面",tipBottomLeft:"这里可以加载音频，控制播放",tipBottomRight:"这里可以调节播放速度"},editor:{metaInfo:"元信息",album:"所属专辑",title:"歌曲名",artist:"艺人名",uploadText:"加载文本",copyText:"全选复制",downloadText:"下载",saveToGist:"保存到 Github Gist",saveFileName:"文件名",utils:"实用工具"},gist:{newTokenTip:"歌词滚动姬使用 Github Token 来存取 Github Gist 上的数据",newTokenButton:"生成新的 Github Token",newGistTip:"创建一个新的 Gist 仓库或指定一个已存在的 Gist id",newGistRepoButton:"创建一个新的 Gist 仓库",gistIdPlaceholder:"或指定一个已存在的 Gist id",info:"信息",clearTokenAndGist:"清除 Github Token 和 Gist id"},preferences:{version:"版本",commitHash:"Commit hash",updateTime:"更新时间",repo:"项目地址",help:"关于 & 帮助",language:"语言",builtInAudio:"使用浏览器内建音频播放器",spaceButton:"启用虚拟空格键",themeColor:"主题颜色",lrcFormat:"歌词输出格式控制",fixed:"时间标签小数点",leftSpace:"左侧空格",rightSpace:"右侧空格",clearCache:"清除缓存"},notify:{audioLoaded:"音频已载入"}}},function(e,t,n){"use strict";n.r(t),n.d(t,"language",(function(){return a}));const a={languageName:"繁體中文(香港)",app:{name:"歌詞滾動姬",fullname:"小明的歌詞滾動姬"},header:{home:"主頁",editor:"編輯",synchronizer:"同步",gist:"Githu Gist",preferences:"設定"},audio:{loadAudio:"匯入音訊",play:"播放",pause:"暫停",replay5s:"倒轉 5s",forward5s:"快轉 5s",resetRate:"重設播放速度",error:["音訊錯誤","音訊請求被用戶終止","音訊網絡請求錯誤","音訊解碼錯誤","瀏覽器無法支援此音訊格式"]},loadAudio:{file:"檔案",url:"URL",loadFile:"點選這裏或直接拖放音訊檔案到這個頁面"},home:{tips:"提示",tipForLyricText:"切換到編輯頁面，黏貼歌詞文本。",tipForUploadAudio:"點選左下方按鈕，匯入音訊檔案。",tipForSynchronizer:"切換到同步頁面，開始製作滾動歌詞吧～",tipTopLeft:"點選這裏可以回到這個幫助頁面",tipTopRight:"點選這裏切換頁面",tipBottomLeft:"這裏可以加載音訊，控制播放",tipBottomRight:"這裏可以調節播放速度"},editor:{metaInfo:"元數據",album:"所屬專輯",title:"歌曲名",artist:"藝人名",uploadText:"匯入文本",copyText:"全選拷貝",downloadText:"下載",saveToGist:"保存到 Github Gist",saveFileName:"檔名",utils:"實用工具"},gist:{newTokenTip:"歌詞滾動姬使用 Github Token 來存取 Github Gist 上的數據",newTokenButton:"生成新的 Github Token",newGistTip:"創建一個新的 Gist 儲存庫或指定一個已存在的 Gist id",newGistRepoButton:"創建一個新的 Gist 儲存庫",gistIdPlaceholder:"或指定一個已存在的 Gist id",info:"資訊",clearTokenAndGist:"清除 Github Token 和 Gist id"},preferences:{version:"版本",commitHash:"Commit hash",updateTime:"更新時間",repo:"專案地址",help:"關於 & 幫助",language:"語言",builtInAudio:"使用瀏覽器內建音訊播放器",spaceButton:"啓用螢幕 Space 鍵",themeColor:"主題顏色",lrcFormat:"歌詞輸出格式控制",fixed:"時間標籤小數點",leftSpace:"左側空格",rightSpace:"右側空格",clearCache:"清除快取"},notify:{audioLoaded:"音訊已匯入"}}},function(e,t,n){"use strict";n.r(t),n.d(t,"language",(function(){return a}));const a={languageName:"繁體中文",app:{name:"歌詞滾動姬",fullname:"小明的歌詞滾動姬"},header:{home:"主頁",editor:"編輯",synchronizer:"同步",gist:"Githu Gist",preferences:"設定"},audio:{loadAudio:"匯入音訊",play:"播放",pause:"暫停",replay5s:"倒轉 5s",forward5s:"快轉 5s",resetRate:"重設播放速度",error:["音訊錯誤","音訊請求被用戶終止","音訊網路請求錯誤","音訊解碼錯誤","瀏覽器無法支援此音訊格式"]},loadAudio:{file:"檔案",url:"URL",loadFile:"點選這裡或直接拖放音訊檔案到這個頁面"},home:{tips:"提示",tipForLyricText:"切換到編輯頁面，黏貼歌詞文本。",tipForUploadAudio:"點選左下方按鈕，匯入音訊檔案。",tipForSynchronizer:"切換到同步頁面，開始製作滾動歌詞吧～",tipTopLeft:"點選這裡可以回到這個幫助頁面",tipTopRight:"點選這裡切換頁面",tipBottomLeft:"這裡可以加載音訊，控制播放",tipBottomRight:"這裡可以調節播放速度"},editor:{metaInfo:"元數據",album:"所屬專輯",title:"歌曲名",artist:"藝人名",uploadText:"匯入文本",copyText:"全選拷貝",downloadText:"下載",saveToGist:"保存到 Github Gist",saveFileName:"檔名",utils:"實用工具"},gist:{newTokenTip:"歌詞滾動姬使用 Github Token 來存取 Github Gist 上的數據",newTokenButton:"生成新的 Github Token",newGistTip:"創建一個新的 Gist 儲存庫或指定一個已存在的 Gist id",newGistRepoButton:"創建一個新的 Gist 儲存庫",gistIdPlaceholder:"或指定一個已存在的 Gist id",info:"資訊",clearTokenAndGist:"清除 Github Token 和 Gist id"},preferences:{version:"版本",commitHash:"Commit hash",updateTime:"更新時間",repo:"專案地址",help:"關於 & 幫助",language:"語言",builtInAudio:"使用瀏覽器內建音訊播放器",spaceButton:"啓用螢幕 Space 鍵",themeColor:"主題顏色",lrcFormat:"歌詞輸出格式控制",fixed:"時間標籤小數點",leftSpace:"左側空格",rightSpace:"右側空格",clearCache:"清除快取"},notify:{audioLoaded:"音訊已匯入"}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Eidtor",(function(){return v}));var a=n(2),r=n(10),c=n(22),o=n(3),i=n(1),l=n(4);const{useCallback:s,useContext:u,useEffect:m,useMemo:p,useRef:d,useState:f}=React,h={autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1},g=(e,t)=>{const n=(a=t,r=d(null),null!=a?a:r);var a,r;return m(()=>{n.current&&(n.current.value=e)},[e,n]),{ref:n,defaultValue:e}},v=({lrcState:e,lrcDispatch:t})=>{const{prefState:n,lang:m,trimOptions:v}=u(o.b),b=s(e=>{t({type:0,payload:{text:e.target.value,options:v}})},[t,v]),R=s(e=>{const{name:n,value:a}=e.target;t({type:3,payload:{name:n,value:a}})},[t]),y=Object(a.d)(e,n),E=d(null),w=s(()=>{sessionStorage.setItem("editor-details-open",E.current.open.toString())},[]),x=p(()=>"false"!==sessionStorage.getItem("editor-details-open"),[]),k=d(null),[S,N]=f(void 0),T=s(()=>{N(e=>(e&&URL.revokeObjectURL(e),URL.createObjectURL(new Blob([k.current.value],{type:"text/plain;charset=UTF-8"}))))},[]),O=s(e=>{if(null===e.target.files||0===e.target.files.length)return;const n=new FileReader;n.addEventListener("load",()=>{t({type:0,payload:{text:n.result,options:v}})}),n.readAsText(e.target.files[0],"UTF-8")},[t,v]),j=s(()=>{var e;null===(e=k.current)||void 0===e||e.select(),document.execCommand("copy")},[]),C=p(()=>Object(c.a)(e.info),[e.info]),I=p(()=>null!==localStorage.getItem("lrc-maker-oauth-token")&&null!==localStorage.getItem("lrc-maker-gist-id"),[]),L=s(()=>{setTimeout(()=>{const e=prompt(m.editor.saveFileName,C);e&&Object(r.b)(e,k.current.value).catch(e=>{l.b.pub({type:"warning",text:e.message})})},500)},[C,m]);return React.createElement("div",{className:"app-editor"},React.createElement("details",{ref:E,open:x,onToggle:w},React.createElement("summary",null,m.editor.metaInfo),React.createElement("section",{className:"app-editor-infobox",onBlur:R},React.createElement("label",{htmlFor:"info-ti"},"[ti:"),React.createElement("input",Object.assign({id:"info-ti",name:"ti",placeholder:m.editor.title},h,g(e.info.get("ti")||""))),React.createElement("label",{htmlFor:"info-ti"},"]"),React.createElement("label",{htmlFor:"info-ar"},"[ar:"),React.createElement("input",Object.assign({id:"info-ar",name:"ar",placeholder:m.editor.artist},h,g(e.info.get("ar")||""))),React.createElement("label",{htmlFor:"info-ar"},"]"),React.createElement("label",{htmlFor:"info-al"},"[al:"),React.createElement("input",Object.assign({id:"info-al",name:"al",placeholder:m.editor.album},h,g(e.info.get("al")||""))),React.createElement("label",{htmlFor:"info-al"},"]"))),React.createElement("section",{className:"editor-tools"},React.createElement("label",{className:"editor-tools-item ripple",title:m.editor.uploadText},React.createElement("input",{hidden:!0,type:"file",accept:"text/*, .txt, .lrc",onChange:O}),React.createElement(i.n,null)),React.createElement("button",{className:"editor-tools-item ripple",title:m.editor.copyText,onClick:j},React.createElement(i.e,null)),React.createElement("a",{className:"editor-tools-item ripple",title:m.editor.downloadText,href:S,onClick:T,download:C},React.createElement(i.f,null)),React.createElement("a",{title:m.editor.saveToGist,href:I?void 0:"#/gist/",className:"editor-tools-item ripple",onClick:I?L:void 0},React.createElement(i.d,null)),React.createElement("a",{title:m.editor.utils,href:"/lrc-utils",className:"editor-tools-item ripple"},React.createElement(i.u,null))),React.createElement("textarea",Object.assign({className:"app-textarea","aria-label":"lrc input here",onBlur:b},h,g(y,k))))}},function(e,t,n){"use strict";n.r(t),n.d(t,"Gist",(function(){return f}));var a=n(10),r=n(3),c=n(7),o=n(1),i=n(4);const{useCallback:l,useContext:s,useEffect:u,useMemo:m,useState:p}=React,d={autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1},f=({lrcDispatch:e,langName:t})=>{const{lang:n,trimOptions:f}=s(r.b),[g,v]=p(()=>localStorage.getItem("lrc-maker-oauth-token")),[b,R]=p(()=>localStorage.getItem("lrc-maker-gist-id")),[y,E]=p(void 0),[w,x]=p(()=>JSON.parse(localStorage.getItem("lrc-maker-gist-file"))),k=m(()=>JSON.parse(sessionStorage.getItem("x-ratelimit")),[]),S=l(e=>{e.preventDefault();const t=e.target.elements.namedItem("token").value;localStorage.setItem("lrc-maker-oauth-token",t),v(t)},[]),N=l(()=>{Object(a.c)().then(e=>{localStorage.setItem("lrc-maker-gist-id",e.id),R(e.id)}).catch(e=>{i.b.pub({type:"warning",text:e.message})})},[]),T=l(e=>{e.preventDefault();const t=e.target.elements.namedItem("gist-id").value;localStorage.setItem("lrc-maker-gist-id",t),R(t),Object(a.a)().catch(e=>{i.b.pub({type:"warning",text:e.message})})},[]);u(()=>{null===b&&null!==g&&"HTMLDataListElement"in window&&Object(a.e)().then(e=>{E(e.filter(e=>"https://lrc-maker.github.io"===e.description&&".lrc-maker"in e.files).map(({id:e})=>e))}).catch(e=>{i.b.pub({type:"warning",text:e.message})})},[g,b]),u(()=>{null!==b&&Object(a.d)().then(e=>{if(null===e)return;const t=Object.values(e.files).filter(e=>e.filename.endsWith(".lrc"));localStorage.setItem("lrc-maker-gist-file",JSON.stringify(t,["filename","content","truncated","raw_url"])),x(t)}).catch(e=>{i.b.pub({type:"warning",text:e.message})})},[b]);const O=l(t=>{const n=t.target;if(!("key"in n.dataset))return;const a=Number.parseInt(n.dataset.key,10),r=null==w?void 0:w[a];r&&(r.truncated?fetch(r.raw_url).then(e=>e.text()).then(t=>{e({type:0,payload:{text:t,options:f}})}).catch(e=>{i.b.pub({type:"warning",text:e.message})}):e({type:0,payload:{text:r.content,options:f}}))},[w,e,f]),j=l(()=>{R(null),v(null)},[]),C=m(()=>{if(null===k)return!1;const e=new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).format(new Date(1e3*Number.parseInt(k["x-ratelimit-reset"],10)));return React.createElement("section",{className:"ratelimit"},React.createElement("p",null,"ratelimit-limit: ",k["x-ratelimit-limit"]),React.createElement("p",null,"ratelimit-remaining: ",k["x-ratelimit-remaining"]),React.createElement("p",null,"ratelimit-reset: ",e))},[k,t]),I=l(()=>null!==b&&null!==g?React.createElement("details",{className:"gist-details"},React.createElement("summary",null,n.gist.info),React.createElement("section",{className:"gist-bar"},React.createElement("section",{className:"gist-info"},React.createElement("p",null,"Gist id: ",React.createElement("a",{href:`https://gist.github.com/${b}`,target:"_blank",rel:"noopener noreferrer",className:"link"},b)),React.createElement("button",{className:"button",onClick:j},n.gist.clearTokenAndGist)),C)):null,[b,g,n.gist.info,n.gist.clearTokenAndGist,j,C]),L=m(()=>{if(null===g)return React.createElement("section",{className:"new-token"},React.createElement(o.i,null),React.createElement("p",{className:"new-token-tip-text"},n.gist.newTokenTip),React.createElement("a",{className:"new-token-tip button",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/settings/tokens/new?scopes=gist&description=https://lrc-maker.github.io"},n.gist.newTokenButton),React.createElement("form",{className:"new-token-form",onSubmit:S},React.createElement("label",{htmlFor:"github-token"},"Token:"),React.createElement("input",Object.assign({type:"text",className:"new-token-input",id:"github-token",name:"token",key:"token",minLength:40,maxLength:40,required:!0},d)),React.createElement("input",{className:"new-token-submit button",type:"submit"})))},[g,n.gist.newTokenTip,n.gist.newTokenButton,S]),z=m(()=>{if(null===b){const e=e=>React.createElement("option",{key:e,value:e}),t=y&&React.createElement("datalist",{id:"gist-list"},y.map(t=>e(t)),";");return React.createElement("section",{className:"get-gist-id"},React.createElement(o.i,null),React.createElement("p",{className:"gist-id-tip-text"},n.gist.newGistTip),React.createElement("button",{className:"create-new-gist button",onClick:N},n.gist.newGistRepoButton),React.createElement("form",{className:"gist-id-form",onSubmit:T},React.createElement("label",{htmlFor:"gist-id"},"Gist id:"),React.createElement("input",Object.assign({type:"text",className:"gist-id-input",id:"gist-id",name:"gist-id",key:"gist-id",list:"gist-list",placeholder:n.gist.gistIdPlaceholder,required:!0},d)),React.createElement("input",{className:"button",type:"submit"}),t))}},[b,y,n.gist.newGistTip,n.gist.newGistRepoButton,n.gist.gistIdPlaceholder,N,T]),M=m(()=>{if(null!==w){const e=(e,t)=>React.createElement("article",{className:"file-item",key:e.raw_url},React.createElement("section",{className:"file-content"},e.content),React.createElement("hr",null),React.createElement("section",{className:"file-bar"},React.createElement("span",{className:"file-title"},e.filename),React.createElement("span",{className:"file-action"},React.createElement("a",{className:"file-load",href:"#/editor/","data-key":t},React.createElement(o.g,null)),React.createElement("a",{className:"file-load",href:"#/synchronizer/","data-key":t},React.createElement(o.t,null)))));return 0===w.length?React.createElement("section",{className:"gist-no-data"},React.createElement(c.b,null)):React.createElement("section",{className:"file-list",onClick:O},w.map(e))}},[w,O]);return React.createElement("div",{className:"gist"},React.createElement(I,null),L||z||M||React.createElement(h,null))},h=()=>React.createElement("section",{className:"gist-loading"},React.createElement(c.c,null))},function(e,t,n){"use strict";n.r(t),t.default=(()=>{const e=performance||Date,t={current:0},n=()=>{cancelAnimationFrame(t.current),r()},a={passive:!0,once:!0},r=()=>{window.removeEventListener("wheel",n),window.removeEventListener("touchmove",n)},c=n=>{const a=e.now(),{startTime:o,startX:i,startY:l,stopY:s}=n,u=(a-o)/468;if(u>=1)return n.method(i,s),void r();var m;const p=l+(s-l)*(m=u,.5*(1-Math.cos(Math.PI*m)));n.method(i,p),p!==s&&(t.current=requestAnimationFrame(()=>c(n)))},o=document.scrollingElement||document.documentElement;Element.prototype.scrollIntoView=function(){const{top:r,bottom:i}=this.getBoundingClientRect(),l=(r+i)/2,s=window.visualViewport?window.visualViewport.height:innerHeight,u=o.scrollLeft,m=o.scrollTop,p=m+l-s/2;cancelAnimationFrame(t.current),window.addEventListener("wheel",n,a),window.addEventListener("touchmove",n,a),c({method:(e,t)=>window.scroll(e,t),startTime:e.now(),startX:u,startY:m,stopY:p})}})()},function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(21),c=n(2),o=n(0),i=n(12),l=n(1);const{useRef:s,useEffect:u,useCallback:m}=React,p={current:null,get isOpen(){return null!==this.current&&this.current.open},open(){null===this.current||this.current.open||(this.current.open=!0)},close(){null!==this.current&&this.current.open&&(this.current.open=!1)}},d=({setAudioSrc:e,lang:t})=>{const n=s(Symbol(d.name));u(()=>o.b.sub(n.current,e=>{1===e.type&&p.close()}),[]);const a=m(()=>{const e=e=>{"Escape"!==e.code&&"Escape"!==e.key||p.close()};p.isOpen?window.addEventListener("keydown",e):window.removeEventListener("keydown",e)},[]),r=m(t=>{t.preventDefault();const n=t.target.elements.namedItem("url"),a=f(n.value);sessionStorage.setItem("audio-src",a),e(a)},[e]),c=m(e=>{e.target.select()},[]);return ReactDOM.createPortal(React.createElement("details",{ref:p,className:"dialog fixed loadaudio-dialog",onToggle:a},React.createElement("summary",{className:"dialog-close"},React.createElement(l.b,null)),React.createElement("section",{className:"dialog-body loadaudio-body"},React.createElement("div",{className:"loadaudio-tab loadaudio-via-file"},React.createElement("input",{type:"radio",name:"tabgroup",id:"tab-file",defaultChecked:!0}),React.createElement("label",{className:"ripple",htmlFor:"tab-file"},t.loadAudio.file),React.createElement("div",{className:"loadaudio-content"},React.createElement("label",{className:"audio-input-tip",htmlFor:"audio-input"},t.loadAudio.loadFile))),React.createElement("div",{className:"loadaudio-tab loadaudio-via-url"},React.createElement("input",{type:"radio",name:"tabgroup",id:"tab-url"}),React.createElement("label",{className:"ripple",htmlFor:"tab-url"},t.loadAudio.url),React.createElement("div",{className:"loadaudio-content"},React.createElement("form",{className:"audio-input-form",onSubmit:r},React.createElement("input",{type:"url",name:"url",required:!0,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1,onFocus:c}),React.createElement("input",{className:"button",type:"submit"})))))),document.body)},f=e=>{if(e.includes("music.163.com")){const t=e.match(/\d{4,}/);if(null!==t){return`https://music.163.com/song/media/outer/url?id=${t[0]}.mp3`}}return e},{useContext:h}=React,g=()=>{const{lang:e}=h(a.b);return React.createElement("div",{className:"home"},React.createElement("p",{className:"home-tip home-tip-top-left"},e.home.tipTopLeft),React.createElement("p",{className:"home-tip home-tip-top-right"},e.home.tipTopRight),React.createElement("p",{className:"home-tip home-tip-bottom-left"},e.home.tipBottomLeft),React.createElement("p",{className:"home-tip home-tip-bottom-right"},e.home.tipBottomRight),React.createElement("section",{className:"home-tip-section"},React.createElement("p",null,e.home.tips),React.createElement("ol",null,React.createElement("li",null,React.createElement("a",{className:"home-tip-item",href:"#/editor/"},React.createElement(l.g,null),React.createElement("span",{className:"home-tip-text"},e.home.tipForLyricText))),React.createElement("li",null,React.createElement("span",{className:"home-tip-item",onClick:()=>{p.open()}},React.createElement(l.l,null),React.createElement("span",{className:"home-tip-text"},e.home.tipForUploadAudio))),React.createElement("li",null,React.createElement("a",{className:"home-tip-item",href:"#/synchronizer/"},React.createElement(l.t,null),React.createElement("span",{className:"home-tip-text"},e.home.tipForSynchronizer))))))};document.addEventListener("keydown",e=>{const{code:t,key:n,target:a}=e;Object(i.a)(a)||("?"===n||"Slash"===t&&e.shiftKey)&&(location.hash="#/")});var v=n(7);const{lazy:b,useContext:R,useEffect:y,useRef:E,useState:w}=React,x=b(()=>Promise.resolve().then(n.bind(null,93)).then(({Eidtor:e})=>({default:e}))),k=b(()=>Promise.resolve().then(n.bind(null,97)).then(({Synchronizer:e})=>({default:e}))),S=b(()=>Promise.resolve().then(n.bind(null,94)).then(({Gist:e})=>({default:e}))),N=b(()=>Promise.resolve().then(n.bind(null,98)).then(({Preferences:e})=>({default:e}))),T=()=>{const e=E(Symbol(T.name)),{prefState:t,trimOptions:n}=R(a.b,4),[i,l]=w(location.hash);y(()=>{window.addEventListener("hashchange",()=>{l(location.hash)})},[]);const[s,u]=Object(r.b)(()=>({text:localStorage.getItem("lrc-maker-lyric")||"",options:n,select:Number.parseInt(sessionStorage.getItem("select-index"),10)||0}));y(()=>o.b.sub(e.current,e=>{1===e.type&&u({type:3,payload:{name:"length",value:Object(c.a)(e.payload,t.fixed,!1)}})}),[u,t.fixed]),y(()=>{const e=()=>{u({type:6,payload:e=>{localStorage.setItem("lrc-maker-lyric",Object(c.d)(e,t)),sessionStorage.setItem("select-index",e.selectIndex.toString())}}),localStorage.setItem("lrc-maker-preferences",JSON.stringify(t))};document.addEventListener("visibilitychange",()=>{document.hidden&&e()}),window.addEventListener("beforeunload",()=>{e()})},[u,t]),y(()=>{document.documentElement.addEventListener("drop",e=>{var t;const a=null===(t=e.dataTransfer)||void 0===t?void 0:t.files[0];if(a&&(a.type.startsWith("text/")||/(?:\.lrc|\.txt)$/i.test(a.name))){const e=new FileReader,t=()=>{u({type:0,payload:{text:e.result,options:n}})};e.addEventListener("load",t,{once:!0}),location.hash="#/editor/",e.readAsText(a,"utf-8")}})},[u,n]),y(()=>{const e=j(t.themeColor);document.documentElement.style.setProperty("--theme-rgb",e.join(", "));const n=O(...e)+.05,a=n*n>.0525?"var(--black)":"var(--white)";document.documentElement.style.setProperty("--theme-contrast-color",a)},[t.themeColor]);const m=(()=>{switch(i){case"#/editor/":return React.createElement(x,{lrcState:s,lrcDispatch:u});case"#/synchronizer/":return 0===s.lyric.length?React.createElement(v.b,null):React.createElement(k,{state:s,dispatch:u});case"#/gist/":return React.createElement(S,{lrcDispatch:u,langName:t.lang});case"#/preferences/":return React.createElement(N,null)}return React.createElement(g,null)})();return React.createElement("main",{className:"app-main"},React.createElement(React.Suspense,{fallback:React.createElement(v.c,null)},m))},O=(...e)=>e.map(e=>e/255).map(e=>e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)).reduce((e,t,n)=>e+t*[.2126,.7152,.0722][n],0),j=e=>{e=e.slice(1);const t=Number.parseInt(e,16);return[t>>16&255,t>>8&255,t>>0&255]},{useState:C,useEffect:I,useRef:L,useCallback:z,useMemo:M}=React,G=({min:e,max:t,step:n,value:a,onInput:r,className:c})=>{const o=(a-e)/(t-e||1);return React.createElement("div",{className:`slider ${c}-slider`},React.createElement("progress",{value:o}),React.createElement("input",{type:"range",className:c,"aria-label":c,min:e,max:t,step:n,value:a,onInput:r}))},A=({duration:e,paused:t})=>{const n=L(Symbol(A.name)),[a,r]=C(o.a.currentTime),[i,l]=C(o.a.playbackRate);I(()=>o.b.sub(n.current,e=>{2===e.type&&l(e.payload)}),[]),I(()=>{if(t)return o.c.sub(n.current,e=>{r(e)});{const e=setInterval(()=>{r(o.a.currentTime)},500/i);return()=>{clearInterval(e)}}},[t,i]);const s=L(0),u=z(e=>{s.current&&cancelAnimationFrame(s.current);const t=e.target.value;s.current=requestAnimationFrame(()=>{const e=Number.parseInt(t,0);r(e),o.a.currentTime=e})},[]),m=M(()=>!!e&&" / "+Object(c.a)(e,0,!1),[e]);return React.createElement(React.Fragment,null,React.createElement("time",null,Object(c.a)(a,0,!1),m),React.createElement(G,{min:0,max:e,step:1,value:a,className:"timeline",onInput:u}))},F=({lang:e})=>{const t=L(Symbol(F.name)),[n,a]=C(o.a.playbackRate);I(()=>o.b.sub(t.current,e=>{2===e.type&&a(e.payload)}),[]);const r=M(()=>Math.log(n),[n]),c=z(e=>{const t=Math.exp(Number.parseFloat(e.target.value));a(t),o.a.playbackRate=t},[]),i=z(()=>{o.a.playbackRate=1},[]);return React.createElement(React.Fragment,null,React.createElement("button",{className:"ripple glow",title:e.audio.resetRate,onClick:i},"X ",n.toFixed(2)),React.createElement(G,{className:"playbackrate",min:-1,max:1,step:"any",value:r,onInput:c}))},B=({lang:e})=>{const t=L(Symbol(B.name)),[n,a]=C(o.a.paused),[r,c]=C(o.a.duration);I(()=>o.b.sub(t.current,e=>{switch(e.type){case 1:c(e.payload),a(o.a.paused);break;case 0:a(e.payload)}}),[]);const i=z(()=>{o.a.currentTime-=5},[]),s=z(()=>{o.a.currentTime+=5},[]),u=z(()=>{o.a.toggle()},[]),m=z(()=>{p.open()},[]);return React.createElement("section",{className:"lrc-audio"+(n?"":" playing")},React.createElement("button",{className:"ripple glow loadaudio-button",title:e.audio.loadAudio,onClick:m},React.createElement(l.l,null)),React.createElement("button",{className:"ripple glow",title:e.audio.replay5s,onClick:i,disabled:!r},React.createElement(l.s,null)),React.createElement("button",{className:"ripple glow",title:n?e.audio.play:e.audio.pause,disabled:!r,onClick:u},n?React.createElement(l.p,null):React.createElement(l.o,null)),React.createElement("button",{className:"ripple glow",title:e.audio.forward5s,onClick:s,disabled:!r},React.createElement(l.h,null)),React.createElement(A,{duration:r,paused:n}),React.createElement(F,{lang:e}))};var D=n(4);const{useCallback:H,useContext:P,useEffect:U,useReducer:V,useRef:_}=React,$=["audio/*",".ncm",".qmcflac",".qmc0",".qmc1",".qmc2",".qmc3","qmcogg"].join(", "),q=()=>{const{prefState:e,lang:t}=P(a.b,3),[n,r]=V((e,t)=>(URL.revokeObjectURL(e),t),void 0,()=>{let e=sessionStorage.getItem("audio-src");if(null===e&&location.search&&URLSearchParams){const t=new URLSearchParams(location.search),n=t.get("url");if(null!==n)return n;const a=t.get("text")||t.get("title")||"",r=/https?:\/\/\S+/.exec(a);e=r&&f(r[0])}return e});U(()=>{document.addEventListener("keydown",e=>{const{code:t,key:n,target:a}=e,r=t||n;if(Object(i.a)(a))return;const c=o.a.current;if(c.src)if(!0===e.metaKey||!0===e.ctrlKey)if(["ArrowUp","KeyJ","Up","J","j"].includes(r)){e.preventDefault();const t=c.playbackRate,n=Math.exp(Math.min(Math.log(t)+.2,1));c.playbackRate=n}else if(["ArrowDown","KeyK","Down","K","k"].includes(r)){e.preventDefault();const t=c.playbackRate,n=Math.exp(Math.max(Math.log(t)-.2,-1));c.playbackRate=n}else"Enter"===r&&(e.preventDefault(),o.a.toggle());else["ArrowLeft","KeyA","KeyH","Left","A","a","H","h"].includes(r)?(e.preventDefault(),c.currentTime-=5):["ArrowRight","KeyD","KeyL","Right","D","d","L","l"].includes(r)?(e.preventDefault(),c.currentTime+=5):"KeyR"!==t&&"R"!==n&&"r"!==n||(e.preventDefault(),c.playbackRate=1)})},[]),U(()=>{document.documentElement.addEventListener("drop",e=>{const t=e.dataTransfer.files[0];K(t,r)})},[]);const c=H(e=>{const t=e.target.files[0];K(t,r)},[]),l=_(0),s=H(()=>{cancelAnimationFrame(l.current),o.b.pub({type:1,payload:o.a.duration}),D.b.pub({type:"success",text:t.notify.audioLoaded})},[t]),u=H(()=>{o.c.pub(o.a.currentTime),l.current=requestAnimationFrame(u)},[]),m=H(()=>{l.current=requestAnimationFrame(u),o.b.pub({type:0,payload:!1})},[u]),p=H(()=>{cancelAnimationFrame(l.current),o.b.pub({type:0,payload:!0})},[]),h=H(()=>{cancelAnimationFrame(l.current),o.b.pub({type:0,payload:!0})},[]),g=H(()=>{o.a.paused&&o.c.pub(o.a.currentTime)},[]),v=H(()=>{o.b.pub({type:2,payload:o.a.playbackRate})},[]),b=H(e=>{const n=e.target.error,a=t.audio.error[n.code]||n.message||t.audio.error[0];D.b.pub({type:"warning",text:a})},[t]);return React.createElement("footer",{className:"app-footer"},React.createElement("input",{id:"audio-input",type:"file",accept:$,hidden:!0,onChange:c}),React.createElement(d,{setAudioSrc:r,lang:t}),React.createElement("audio",{ref:o.a,src:n,controls:e.builtInAudio,hidden:!e.builtInAudio,onLoadedMetadata:s,onPlay:m,onPause:p,onEnded:h,onTimeUpdate:g,onRateChange:v,onError:b}),e.builtInAudio||React.createElement(B,{lang:t}))},K=(e,t)=>{if(sessionStorage.removeItem("audio-src"),e){if(e.type.startsWith("audio/"))return void t(URL.createObjectURL(e));if(e.name.endsWith(".ncm")){const n=new Worker("./ncmc-worker.js");return n.addEventListener("message",e=>{if("success"===e.data.type){const n=e.data.payload,a=new Blob([n],{type:W(n)});t(URL.createObjectURL(a))}"error"===e.data.type&&D.b.pub({type:"warning",text:e.data.payload})},{once:!0}),n.addEventListener("error",e=>{D.b.pub({type:"warning",text:e.message}),n.terminate()},{once:!0}),void n.postMessage(e)}if(/\.qmc(?:flac|0|1|2|3)$/.test(e.name)){const n=new Worker("./qmc-worker.js");return n.addEventListener("message",e=>{if("success"===e.data.type){const n=e.data.payload,a=new Blob([n],{type:W(n)});t(URL.createObjectURL(a))}},{once:!0}),void n.postMessage(e)}}},W=e=>{switch(new DataView(e.buffer).getUint32(0,!1)){case 1716281667:return"audio/flac";case 1332176723:return"audio/ogg";case 1380533830:case 1463899717:return"audio/wav";default:return"audio/mpeg"}};document.addEventListener("visibilitychange",()=>{o.a.paused||o.a.toggle()});const{useContext:J}=React,Y=()=>{const{lang:e}=J(a.b,1);return React.createElement("header",{className:"app-header"},React.createElement("a",{id:"/",className:"app-title",title:e.header.home,href:"#/"},React.createElement("span",{className:"app-title-text"},e.app.name),React.createElement("span",{className:"app-title-svg"},React.createElement(l.j,null))),React.createElement("nav",{className:"app-nav"},React.createElement("a",{id:"/editor/",className:"app-tab",title:e.header.editor,href:"#/editor/"},React.createElement(l.g,null)),React.createElement("a",{id:"/synchronizer/",className:"app-tab",title:e.header.synchronizer,href:"#/synchronizer/"},React.createElement(l.t,null)),React.createElement("a",{id:"/gist/",className:"app-tab",title:e.header.gist,href:"#/gist/"},React.createElement(l.c,null)),React.createElement("a",{id:"/preferences/",className:"app-tab",title:e.header.preferences,href:"#/preferences/"},React.createElement(l.q,null))))};"scrollBehavior"in document.documentElement.style||Promise.resolve().then(n.bind(null,95)),ReactDOM.render(React.createElement(()=>React.createElement(a.a,null,React.createElement(Y,null),React.createElement(T,null),React.createElement(q,null),React.createElement(D.a,null))),document.querySelector(".app-container"),()=>{document.querySelector(".page-loading").remove(),window.addEventListener("dragover",e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"}),window.addEventListener("drop",e=>{e.preventDefault()})})},function(e,t,n){"use strict";n.r(t);var a=n(21),r=n(2),c=n(0),o=n(12),i=n(3),l=n(22),s=n(1);const{useState:u,useCallback:m}=React,p=React.memo(({syncMode:e,setSyncMode:t,lrcDispatch:n,prefState:a})=>{const[c,o]=u(),[i,p]=u(),d=m(()=>{t(e=>0===e?1:0)},[t]),f=m(()=>{n({type:6,payload:e=>{const t=Object(r.d)(e,a);o(e=>(e&&URL.revokeObjectURL(e),URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"})))),p(Object(l.a)(e.info))}})},[n,a]),h=0===e?"select":"highlight",g=["aside-button","syncmode-button","ripple","glow ",h].join(" ");return React.createElement("aside",{className:"aside-panel"},React.createElement("button",{className:g,onClick:d,"aria-label":`${h} mode`},React.createElement(s.m,null)),React.createElement("a",{href:c,download:i,className:"aside-button ripple glow",onClick:f},React.createElement(s.f,null)))});p.displayName=p.name;const{useState:d,useEffect:f,useRef:h}=React,g=({fixed:e})=>{const t=h(Symbol(g.name)),[n,a]=d(c.a.currentTime),[o,i]=d(c.a.paused),[l,s]=d(c.a.playbackRate);return f(()=>c.b.sub(t.current,e=>{switch(e.type){case 0:i(e.payload);break;case 2:s(e.payload)}}),[]),f(()=>{const n=[1,10,100,1e3][e]*l;if(o||2*n>60)return c.c.sub(t.current,e=>{a(e)});{const e=setInterval(()=>{a(c.a.currentTime)},1e3/(2*n));return()=>{clearInterval(e)}}},[e,o,l]),React.createElement("time",{className:"curser"},Object(r.a)(n,e))};n.d(t,"Synchronizer",(function(){return x}));const{useCallback:v,useContext:b,useEffect:R,useRef:y,useState:E}=React,w=({sync:e})=>React.createElement("button",{className:"space_button",onClick:e},"space"),x=({state:e,dispatch:t})=>{const n=y(Symbol(x.name)),{selectIndex:r,currentIndex:l}=e,{prefState:s,lang:u}=b(i.b);R(()=>{t({type:3,payload:{name:"tool",value:`${u.app.name} https://lrc-maker.github.io`}})},[t,u]);const[m,d]=E(()=>sessionStorage.getItem("sync-mode")===1..toString()?1:0);R(()=>{sessionStorage.setItem("sync-mode",m.toString())},[m]);const f=y(null),h={0:r,1:l}[m];R(()=>{const e=f.current.children[h];void 0!==e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},[h]),R(()=>c.c.sub(n.current,e=>{t({type:1,payload:e})}),[t]);const g=v(()=>{c.a.duration&&t({type:2,payload:c.a.currentTime})},[t]);R(()=>{const e=e=>{const{code:n,key:a,target:r}=e,c=n||a;if(!Object(o.a)(r))return"Backspace"===c||"Delete"===c||"Del"===c?(e.preventDefault(),void t({type:5,payload:void 0})):void(!0!==e.metaKey&&!0!==e.ctrlKey&&("Space"===n||" "===a||"Spacebar"===a?(e.preventDefault(),g()):["ArrowUp","KeyW","KeyJ","Up","W","w","J","j"].includes(c)?(e.preventDefault(),t({type:4,payload:e=>e-1})):["ArrowDown","KeyS","KeyK","Down","S","s","K","k"].includes(c)?(e.preventDefault(),t({type:4,payload:e=>e+1})):"Home"===c?(e.preventDefault(),t({type:4,payload:()=>0})):"End"===c?(e.preventDefault(),t({type:4,payload:()=>1/0})):"PageUp"===c?(e.preventDefault(),t({type:4,payload:e=>e-10})):"PageDown"===c&&(e.preventDefault(),t({type:4,payload:e=>e+10}))))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,g]);const S=v(e=>{e.stopPropagation();const n=e.target;if(n.classList.contains("line")){const e=Number.parseInt(n.dataset.key,10)||0;t({type:4,payload:()=>e})}},[t]),N=v(e=>{if(e.stopPropagation(),!c.a.duration)return;const n=e.target;if(n.classList.contains("line")){const e=Number.parseInt(n.dataset.key,10);t({type:6,payload:({lyric:t})=>{const n=t[e].time;void 0!==n&&(c.a.currentTime=Object(a.a)(n,0,c.a.duration))}})}},[t]),T=v((e,t,n)=>{const a=t===r,c=t===l,o=t>0&&n[t].time<=n[t-1].time,i=Object.entries({line:!0,select:a,highlight:c,error:o}).reduce((e,[t,n])=>(n&&e.push(t),e),[]).join(" ");return React.createElement(k,{key:t,index:t,className:i,line:e,select:a,prefState:s})},[r,l,s]),O=s.screenButton?"lyric-list on-screen-button":"lyric-list";return React.createElement(React.Fragment,null,React.createElement("ul",{ref:f,className:O,onClickCapture:S,onDoubleClickCapture:N},e.lyric.map(T)),React.createElement(p,{syncMode:m,setSyncMode:d,lrcDispatch:t,prefState:s}),s.screenButton&&React.createElement(w,{sync:g}))},k=({line:e,index:t,select:n,className:a,prefState:c})=>{const o=Object(r.a)(e.time,c.fixed),i=Object(r.b)(e.text,c.spaceStart,c.spaceEnd);return React.createElement("li",{key:t,"data-key":t,className:a},n&&React.createElement(g,{fixed:c.fixed}),React.createElement("time",{className:"line-time"},o),React.createElement("span",{className:"line-text"},i))}},function(e,t,n){"use strict";n.r(t);var a=n(14),r=n(2),c=n(6);var o=n(3),i=n(7);n.d(t,"Preferences",(function(){return h}));const{useCallback:l,useContext:s,useEffect:u,useMemo:m,useRef:p}=React,d={type:"number",step:1},f=(e,t)=>{const n=p(null);u(()=>{const t=n.current;if(t){const n=()=>{t.value=e.toString()};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)}},[e]);const a=l(e=>{e.target.validity.valid&&t(e)},[t]);return Object.assign(Object.assign({},d),{ref:n,onChange:a,defaultValue:e})},h=()=>{const{prefState:e,prefDispatch:t,lang:n}=s(o.b,1),d=l(e=>{t({type:"themeColor",payload:e.target.value})},[t]),h=p(null),g=l(e=>{let n=e.value;e.validity.valid?(3===n.length&&(n=[].map.call(n,e=>e+e).join("")),n.length<6&&(n=n.padEnd(6,"0")),t({type:"themeColor",payload:"#"+n})):e.value=e.defaultValue},[t]),v=l(e=>g(e.target),[g]),b=l(e=>{e.preventDefault();const t=e.target.elements.namedItem("user-color-input-text");return g(t)},[g]);u(()=>{h.current.value=e.themeColor.slice(1)},[e.themeColor]);const R=l(e=>{t({type:e.target.name,payload:e.target.value})},[t]),y=l(()=>{Object(c.a)(void 0,void 0,void 0,(function*(){"serviceWorker"in navigator&&(yield caches.keys().then(e=>Promise.all(e.filter(e=>e.startsWith("akari-lrc-maker")).map(e=>caches.delete(e)))),yield navigator.serviceWorker.getRegistration().then(e=>{e&&e.unregister().then(()=>{location.reload(!0)})}))}))},[]),E=m(()=>{const t=new Date("2020-02-22T12:34:05+08:00");return new Intl.DateTimeFormat(e.lang,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short",hour12:!1}).format(t)},[e.lang]),w=l(e=>{t({type:"lang",payload:e.target.value})},[t]),x=l(()=>t({type:"builtInAudio",payload:e=>!e.builtInAudio}),[t]),k=l(()=>t({type:"screenButton",payload:e=>!e.screenButton}),[t]),S=l(e=>{t({type:"fixed",payload:Number.parseInt(e.target.value,10)})},[t]),N=m(()=>Object.entries(a.a.languages).map(([e,t])=>React.createElement("option",{key:e,value:e},t)),[]),T=m(()=>Object.values(a.b).map(t=>{const n=t===e.themeColor,a=["color-picker","ripple"];return n&&a.push("checked"),React.createElement("label",{className:a.join(" "),key:t,style:{backgroundColor:t}},React.createElement("input",{hidden:!0,type:"radio",name:"theme-color",value:t,checked:n,onChange:d}))}),[d,e.themeColor]),O=m(()=>({backgroundColor:e.themeColor}),[e.themeColor]),j=m(()=>Object(r.b)("   hello   世界～   ",e.spaceStart,e.spaceEnd),[e.spaceStart,e.spaceEnd]),C=p(null),I=p(null);return u(()=>{"color"===I.current.type&&C.current.removeAttribute("for")},[]),React.createElement("div",{className:"preferences"},React.createElement("ul",null,React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,n.preferences.version),React.createElement("span",{className:"select-all"},"5.2.8"))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,n.preferences.commitHash),React.createElement("span",{className:"select-all"},"1e91f03"))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,n.preferences.updateTime),React.createElement("span",null,E))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,n.preferences.repo),React.createElement("a",{className:"link",href:"https://github.com/magic-akari/lrc-maker",target:"_blank",rel:"noopener noreferrer"},"Github"))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,n.preferences.help),React.createElement("a",{className:"link",href:"https://github.com/magic-akari/lrc-maker/wiki",target:"_blank",rel:"noopener noreferrer"},"Github Wiki"))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,n.preferences.language),React.createElement("div",{className:"option-select"},React.createElement("select",{value:e.lang,onChange:w,"aria-label":n.preferences.language},N)))),React.createElement("li",null,React.createElement("label",{className:"list-item"},React.createElement("span",null,n.preferences.builtInAudio),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:e.builtInAudio,onChange:x,"aria-label":n.preferences.builtInAudio}),React.createElement("span",{className:"toggle-switch-label"})))),React.createElement("li",null,React.createElement("label",{className:"list-item"},React.createElement("span",null,n.preferences.spaceButton),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:e.screenButton,onChange:k,"aria-label":n.preferences.spaceButton}),React.createElement("span",{className:"toggle-switch-label"})))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,n.preferences.themeColor),React.createElement("details",{className:"dropdown"},React.createElement("summary",null,React.createElement("span",{className:"color-picker ripple hash",style:O},"#"),React.createElement("span",{className:"current-theme-color"},e.themeColor.slice(1))),React.createElement("form",{className:"dropdown-body color-wall",onSubmit:b},T,React.createElement("label",{className:"color-picker ripple user-color-label hash",htmlFor:"user-color-input-text",style:O,ref:C},"#",React.createElement("input",{type:"color",className:"color-picker pseudo-hidden",value:e.themeColor,onChange:d,ref:I})),React.createElement("input",{ref:h,id:"user-color-input-text",name:"user-color-input-text",className:"user-color-input-text",type:"text",pattern:"[\\da-f]{3,6}",required:!0,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1,defaultValue:e.themeColor.slice(1),onBlur:v}))))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,n.preferences.lrcFormat),React.createElement("span",null,React.createElement("time",{className:"format-example-time"},Object(r.a)(83.456,e.fixed)),React.createElement("span",{className:"format-example-text"},j)))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,n.preferences.fixed),React.createElement("div",{className:"option-select"},React.createElement("select",{name:"fixed",value:e.fixed,onChange:S,"aria-label":n.preferences.lrcFormat},React.createElement("option",{value:0},"0"),React.createElement("option",{value:1},"1"),React.createElement("option",{value:2},"2"),React.createElement("option",{value:3},"3"))))),React.createElement("li",null,React.createElement("label",{className:"list-item"},React.createElement("label",{htmlFor:"space-start"},n.preferences.leftSpace),React.createElement("input",Object.assign({name:"spaceStart",id:"space-start",required:!0,min:-1},f(e.spaceStart,R))))),React.createElement("li",null,React.createElement("label",{className:"list-item"},React.createElement("label",{htmlFor:"space-end"},n.preferences.rightSpace),React.createElement("input",Object.assign({name:"spaceEnd",id:"space-end",required:!0,min:-1},f(e.spaceEnd,R))))),React.createElement("li",{className:"ripple",onTransitionEnd:y},React.createElement("section",{className:"list-item"},n.preferences.clearCache))),React.createElement(i.a,null))}}]);
//# sourceMappingURL=index.es6.js.map